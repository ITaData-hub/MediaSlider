<h1>Компонент MediaViewerSlider</h1>
<p>Компонент <code>MediaViewerSlider</code> представляет собой адаптивный слайдер, который поддерживает управление
  жестами (свайп), кнопками ("Предыдущий" и "Следующий"), автоплей и бесконечную прокрутку. Он создан с использованием
  Angular.</p>

<h2>Оглавление</h2>
<ol>
  <li><a href="#основные-возможности">Основные возможности</a></li>
  <li><a href="#входные-параметры">Входные параметры</a></li>
  <li><a href="#использование">Использование</a></li>
  <li><a href="#пример-использования">Пример использования</a></li>
  <li><a href="#методы-жизненного-цикла">Методы жизненного цикла</a></li>
  <li><a href="#css-классы">CSS-классы</a></li>
  <li><a href="#автоплей">Автоплей</a></li>
  <li><a href="#бесконечная-прокрутка">Бесконечная прокрутка</a></li>
  <li><a href="#точки-навигации">Точки навигации</a></li>
  <li><a href="#кнопки-управления">Кнопки управления</a></li>
</ol>

<h2 id="основные-возможности">Основные возможности</h2>
<ul>
  <li>Управление жестами: Поддерживает свайп для мобильных устройств и перетаскивание для десктопных.</li>
  <li>Адаптивность: Автоматически подстраивается под ширину контейнера и отображает нужное количество слайдов.</li>
  <li>Автоплей: Включает автоматическую прокрутку слайдов с заданным интервалом времени.</li>
  <li>Бесконечная прокрутка: Позволяет бесконечно прокручивать слайды, переходя от последнего к первому и наоборот.</li>
  <li>Точки навигации: Предоставляет возможность переключать слайды через точки.</li>
  <li>Кастомизация: Поддерживает настройку стилей, количества слайдов на экране, отступов между слайдами и скрытия
    элементов управления.</li>
</ul>

<h2 id="входные-параметры">Входные параметры</h2>
<table border="1" cellpadding="5" cellspacing="0">
  <tr>
    <th>Параметр</th>
    <th>Тип</th>
    <th>По умолчанию</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><code>gap</code></td>
    <td><code>number</code></td>
    <td><code>0</code></td>
    <td>Отступ между слайдами (в пикселях). Защита от отрицательных значений.</td>
  </tr>
  <tr>
    <td><code>slidesPerView</code></td>
    <td><code>number</code></td>
    <td><code>1</code></td>
    <td>Количество слайдов, отображаемых одновременно. Минимальное значение <code>1</code>.</td>
  </tr>
  <tr>
    <td><code>clientSlideWidth</code></td>
    <td><code>number</code></td>
    <td><code>0</code></td>
    <td>Ширина каждого слайда (если задана). Используется для квадратных слайдов.</td>
  </tr>
  <tr>
    <td><code>hideArrows</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Скрывает кнопки "Предыдущий" и "Следующий".</td>
  </tr>
  <tr>
    <td><code>hideDots</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Скрывает точки навигации.</td>
  </tr>
  <tr>
    <td><code>dotsInside</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Размещает точки навигации внутри слайдера.</td>
  </tr>
  <tr>
    <td><code>arrowsInside</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Размещает кнопки "Предыдущий" и "Следующий" внутри слайдера.</td>
  </tr>
  <tr>
    <td><code>squareSlide</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Если <code>true</code>, слайды будут иметь квадратную форму.</td>
  </tr>
  <tr>
    <td><code>autoplay</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Включение/выключение автоплея.</td>
  </tr>
  <tr>
    <td><code>autoplayTime</code></td>
    <td><code>number</code></td>
    <td><code>20</code></td>
    <td>Интервал времени между автоматическими переходами (в секундах).</td>
  </tr>
  <tr>
    <td><code>infinity</code></td>
    <td><code>boolean</code></td>
    <td><code>false</code></td>
    <td>Включение бесконечной прокрутки. При автоплейе всегда <code>true</code>.</td>
  </tr>
</table>

<h2 id="использование">Использование</h2>
<p>Для использования компонента добавьте его в HTML-шаблон вашего приложения:</p>
<pre><code>&lt;itd-media-viewer-slider&gt;
  &lt;div&gt;Слайд 1&lt;/div&gt;
    &lt;div&gt;Слайд 2&lt;/div&gt;
    &lt;div&gt;Слайд 3&lt;/div&gt;
    &lt;div&gt;Слайд 4&lt;/div&gt;
&lt;/itd-media-viewer-slider&gt;</code></pre>

<h2 id="пример-использования">Пример использования</h2>
<h3>Базовый пример</h3>
<pre><code>&lt;itd-media-viewer-slider&gt;
  &lt;div&gt;Слайд 1&lt;/div&gt;
    &lt;div&gt;Слайд 2&lt;/div&gt;
    &lt;div&gt;Слайд 3&lt;/div&gt;
    &lt;div&gt;Слайд 4&lt;/div&gt;
&lt;/itd-media-viewer-slider&gt;</code></pre>

<pre><code><itd-media-viewer-slider>
  <div slide #slide>Слайд 1</div>
  <div slide #slide>Слайд 2</div>
  <div slide #slide>Слайд 3</div>
  <div slide #slide>Слайд 4</div>
</itd-media-viewer-slider> </code></pre>
<h3>С автоплеем</h3>
<pre><code>&lt;itd-media-viewer-slider [autoplay]="true"&gt;
  &lt;div&gt;Слайд 1&lt;/div&gt;
    &lt;div&gt;Слайд 2&lt;/div&gt;
    &lt;div&gt;Слайд 3&lt;/div&gt;
    &lt;div&gt;Слайд 4&lt;/div&gt;
&lt;/itd-media-viewer-slider&gt;</code></pre>
<pre><code><itd-media-viewer-slider [autoplay]="true">
    <div slide #slide>Слайд 1</div>
    <div slide #slide>Слайд 2</div>
    <div slide #slide>Слайд 3</div>
    <div slide #slide>Слайд 4</div>
</itd-media-viewer-slider></code></pre>

<h3>Бесконечная прокрутка</h3>
<pre><code>&lt;itd-media-viewer-slider [infinity]="true"&gt;
  &lt;div&gt;Слайд 1&lt;/div&gt;
    &lt;div&gt;Слайд 2&lt;/div&gt;
    &lt;div&gt;Слайд 3&lt;/div&gt;
    &lt;div&gt;Слайд 4&lt;/div&gt;
&lt;/itd-media-viewer-slider&gt;</code></pre>
<pre><code><itd-media-viewer-slider [infinity]="true">
    <div slide #slide>Слайд 1</div>
    <div slide #slide>Слайд 2</div>
    <div slide #slide>Слайд 3</div>
    <div slide #slide>Слайд 4</div>
</itd-media-viewer-slider></code></pre>

<h3>Скрытие кнопок и точек</h3>
<pre><code>&lt;itd-media-viewer-slider [hideArrows]="true" [hideDots]="true"&gt;
  &lt;div&gt;Слайд 1&lt;/div&gt;
    &lt;div&gt;Слайд 2&lt;/div&gt;
    &lt;div&gt;Слайд 3&lt;/div&gt;
    &lt;div&gt;Слайд 4&lt;/div&gt;
&lt;/itd-media-viewer-slider&gt;</code></pre>
<pre><code><itd-media-viewer-slider [hideArrows]="true" [hideDots]="true">
    <div slide #slide>Слайд 1</div>
    <div slide #slide>Слайд 2</div>
    <div slide #slide>Слайд 3</div>
</itd-media-viewer-slider></code></pre>

<h2 id="методы-жизненного-цикла">Методы жизненного цикла</h2>
<ul>
  <li><strong><code>ngAfterContentInit</code></strong>: Проверяет наличие слайдов после загрузки контента. Если слайды
    отсутствуют, выводит предупреждение.</li>
  <li><strong><code>ngAfterViewInit</code></strong>: Инициализирует слайдер после полной загрузки DOM-элементов.</li>
  <li><strong><code>ngOnDestroy</code></strong>: Очищает все добавленные слушатели событий и останавливает автоплей.
  </li>
</ul>

<h2 id="css-классы">CSS-классы</h2>
<table border="1" cellpadding="5" cellspacing="0">
  <tr>
    <th>Класс</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><code>no-arrows</code></td>
    <td>Скрывает кнопки "Предыдущий" и "Следующий".</td>
  </tr>
  <tr>
    <td><code>no-dots</code></td>
    <td>Скрывает точки навигации.</td>
  </tr>
  <tr>
    <td><code>dots-inside</code></td>
    <td>Размещает точки навигации внутри слайдера.</td>
  </tr>
  <tr>
    <td><code>arrows-inside</code></td>
    <td>Размещает кнопки "Предыдущий" и "Следующий" внутри слайдера.</td>
  </tr>
  <tr>
    <td><code>grab</code></td>
    <td>Добавляется к контейнеру слайдов при обычном состоянии.</td>
  </tr>
  <tr>
    <td><code>grabbing</code></td>
    <td>Добавляется к контейнеру слайдов во время перемещения.</td>
  </tr>
  <tr>
    <td><code>disabled</code></td>
    <td>Добавляется к кнопкам, если они неактивны.</td>
  </tr>
  <tr>
    <td><code>no-prev</code></td>
    <td>Добавляется к основному контейнеру слайдера, если достигнут первый слайд.</td>
  </tr>
  <tr>
    <td><code>no-next</code></td>
    <td>Добавляется к основному контейнеру слайдера, если достигнут последний слайд.</td>
  </tr>
</table>

<h2 id="автоплей">Автоплей</h2>
<p>Функциональность автоплея позволяет слайдеру автоматически переходить к следующей группе слайдов через заданный
  интервал времени.</p>
<ul>
  <li>Если параметр <code>autoplay</code> установлен в <code>true</code>, слайдер начнет автоматически прокручиваться.
  </li>
  <li>Интервал времени между переходами задается параметром <code>autoplayTime</code> (по умолчанию 20 секунд).</li>
  <li>При автоплейе параметр <code>infinity</code> автоматически становится <code>true</code>.</li>
</ul>

<h2 id="бесконечная-прокрутка">Бесконечная прокрутка</h2>
<p>При включении параметра <code>infinity</code> слайдер будет бесконечно прокручиваться, переходя от последнего слайда
  к первому и наоборот.</p>
<ul>
  <li>Перемещение происходит без анимации, чтобы создать иллюзию бесконечной ленты.</li>
</ul>

<h2 id="точки-навигации">Точки навигации</h2>
<p>Точки навигации позволяют пользователям быстро переключаться между группами слайдов.</p>
<ul>
  <li>Каждая точка соответствует группе слайдов.</li>
  <li>Активная точка получает класс <code>active</code>.</li>
</ul>

<h2 id="кнопки-управления">Кнопки управления</h2>
<p>Кнопки "Предыдущий" и "Следующий" позволяют пользователю переключать слайды вручную.</p>
<ul>
  <li>Кнопки становятся неактивными (<code>disabled</code>) на первом и последнем слайде.</li>
  <li>При клике на кнопку вызывается метод <code>goToSlide</code>.</li>
</ul>

<h2>Логика работы</h2>
<ul>
  <li><strong>Инициализация</strong>: Метод <code>initializeSlider</code> вызывается после загрузки DOM. Рассчитывает
    размеры слайдов, устанавливает слушатели событий и создает точки навигации.</li>
  <li><strong>Обработка жестов</strong>: Методы <code>onTouchStart</code>, <code>handleGestureMove</code> и
    <code>onGestureEnd</code> обрабатывают жесты пользователя.</li>
  <li><strong>Автоплей</strong>: Методы <code>startAutoplay</code> и <code>stopAutoplay</code> управляют автоматической
    прокруткой слайдов.</li>
  <li><strong>Бесконечная прокрутка</strong>: Если параметр <code>infinity</code> установлен в <code>true</code>,
    слайдер будет бесконечно прокручиваться.</li>
  <li><strong>Точки навигации</strong>: Методы <code>createDots</code> и <code>updateActiveDot</code> создают и
    обновляют точки.</li>
  <li><strong>Кнопки управления</strong>: Методы <code>onPrevClick</code> и <code>onNextClick</code> переключают слайды.
  </li>
</ul>

<h2>Производительность</h2>
<ul>
  <li>Стратегия обнаружения изменений: Используется <code>ChangeDetectionStrategy.OnPush</code> для минимизации проверок
    изменений.</li>
  <li>Кэширование размеров: Размеры слайдов и контейнера кэшируются для оптимизации производительности.</li>
  <li>Защитные проверки: Все ключевые методы содержат проверки на существование элементов.</li>
</ul>

<h2>Советы по использованию</h2>
<ul>
  <li>Если данные для слайдов загружаются асинхронно, компонент автоматически перезапустит инициализацию после их
    получения.</li>
  <li>Установите параметр <code>squareSlide</code> в <code>true</code>, чтобы слайды имели квадратную форму.</li>
  <li>Используйте логирование (<code>console.log</code>) для диагностики состояния компонента.</li>
</ul>

<h2>Зависимости</h2>
<ul>
  <li><code>&#64;angular/core</code></li>
  <li><code>&#64;angular/common</code></li>
  <li><code>Renderer2</code> для безопасной работы с DOM.</li>
  <li><code>ChangeDetectorRef</code> для оповещения Angular о необходимости обновления представления.</li>
</ul>

<h2>Возможные улучшения</h2>
<ul>
  <li>Lazy-loading изображений: Добавьте функционал для загрузки изображений только при необходимости.</li>
  <li>Поддержка вертикального свайпа: Расширьте функциональность для работы с вертикальными жестами.</li>
  <li>Анимация переходов: Добавьте больше вариантов анимации для плавного перехода между слайдами.</li>
</ul>

<h2>Лицензия</h2>
<p>Компонент распространяется под MIT License.</p>